<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="copyright" content="MACode ID, https://macodeid.com/">

  <title>Coachers - Admin</title>

  <link rel="stylesheet" href="/seogram/assets/css/maicons.css">

  <link rel="stylesheet" href="/seogram/assets/css/bootstrap.css">

  <link rel="stylesheet" href="/seogram/assets/vendor/animate/animate.css">

  <link rel="stylesheet" href="/seogram/assets/css/theme.css">


  <script>
      function getTopics(){
        const subjectChosen = document.getElementById("subjectname").value;
        if(subjectChosen != '--'){
          window.location.replace("/admin/topiclist/" + subjectChosen);
        }
      }
  </script>


  <title>Topics List</title>
</head>
<body>
  <!-- Back to top button -->
  <div class="back- to-top"></div>

  <%- include('./partials/headerNavBar.ejs') %>

  <div class="page-section" id="about" style="background-color:rgb(216, 220, 221)">
    <div class="container">

      <div class="row align-items-center">
        <div class="x_panel">
          <div class="x_title">
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <br/>
              <div class="mb-3">
                <label for="Subjectname" class="form-label" style="font-weight: bold; color: black;">Choose Subject Name</label>
                <!-- <input type="text" id="text" class="form-control" name="subjectname" placeholder="subject" required=""> -->

                  <select id="subjectname" name="subjectname" onchange="getTopics();">
                    <option>--</option>
                   <% if(SubjectList.length>0){ %>
                      <% SubjectList.forEach(subject => { %>
                       <option>
              
                          <%= subject.name %>
                       
                        </option>
                      <% })} %>
                  </select>
                
              </div>
              <div class="row">
                  <div class="col-sm-12">
                      <div class="card-box table-responsive">

                          <table id="datatable-responsive"
                              class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0"
                              width="100%">
                              <thead style="background-color: whitesmoke;">
                                  <tr>
                                      <th>Topic Name</th>
                                      <th>Week Number</th>
                                      <th>Video URL</th>
                                      <th>Description</th>
                                      <th></th>
                                      
                                  </tr>
                              </thead>
              
                              <tbody>
                                  <% if(topicsList.length>0){ %>
                                      <% topicsList.forEach(topic=>{ %>
                                          <tr></tr>
                                          <td> <%= topic.topicName %> </td>
                                      
                                          <td> <%= topic.weekNumber %> </td>

                                          <td> <%= topic.videoURL %> </td>

                                          <td> <%= topic.description %> </td>

                                          <td>
                                              <% const deleteURL = '/admin/deletetopic/' + topic.topicName + '&' + chosenSubject %>
                                              <a href = "<%= deleteURL %>">
                                                <i class="mai-trash" aria-hidden="true"></i>
                                              </a>
                                          </td>
                                      <% }) %>
                                  <% } %>

                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
          </div>
        </br>
          </br>
          <div>
            <a href="/admin/dashboard" class="text-inherit
              fs-5">Home</a>
          </div>
        </div>
        
      </div>
    </div> <!-- .container -->
  </div> <!-- .page-section -->

  

  <%- include('./partials/footer.ejs') %>


  <script src="/seogram/assets/js/jquery-3.5.1.min.js"></script>

  <script src="/seogram/assets/js/bootstrap.bundle.min.js"></script>
  
  <script src="/seogram/assets/js/google-maps.js"></script>
  
  <script src="/seogram/assets/vendor/wow/wow.min.js"></script>
  
  <script src="/seogram/assets/js/theme.js"></script>
  
  
</body>

</html> 