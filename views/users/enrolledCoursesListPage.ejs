<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="copyright" content="MACode ID, https://macodeid.com/">

  <title>COACHERS - Dashboard</title>

  <link rel="stylesheet" href="/seogram/assets/css/maicons.css">

  <link rel="stylesheet" href="/seogram/assets/css/bootstrap.css">

  <link rel="stylesheet" href="/seogram/assets/vendor/animate/animate.css">

  <link rel="stylesheet" href="/seogram/assets/css/theme.css">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/favison/css/bootstrap.css">
  <link rel="stylesheet" href="/favison/css/themify-icons.css">
  <link rel="stylesheet" href="/favison/vendors/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="/favison/vendors/owl-carousel/owl.carousel.min.css">
  <link rel="stylesheet" href="/favison/vendors/animate-css/animate.css">
  <!-- main css -->
  <link rel="stylesheet" href="/favison/css/style.css">
  <link rel="stylesheet" href="/favison/css/responsive.css">


</head>
<body>

  <!-- Back to top button -->
  <div class="back-to-top"></div>

  <!-- Header -->
  <%- include('./userPartials/headerNavbar.ejs') %>
  <!-- header end -->


  <div class="page-section bg-light">
    <div class="container">
      <div class="row">
        
        <div class="section-top-border">
          <h3 class="mb-30 title_color">Subjects Enrolled</h3>
          <div class="card smooth-shadow-md" style="box-shadow: 2px 3px 10px rgb(146, 128, 196);">
            <div class="progress-table">
              <div class="table-head">
                <div class="serial"></div>
                <div class="country">Subject</div>
                <div class="visit">Topics Done </div>
                <div class="percentage" style="padding-left: 10%;">Progress</div>
              </div>
              <% if (subjectsToDisplay.length > 0){ %>
                <% subjectsToDisplay.forEach(subject=>{ %>
                    <div class="table-row">
                      <% const url = '/users/coursepage/' + subject.name + '&' + '1'%>
                      <div class="country" style="padding-left: 6%; font-size: 130%;"><a href="<%=url%>"><%= subject.name %> </a></div>
                    
                        <div class="visit" style="padding-left: 10%; padding-right: 15%;"><%= subject.topicsCovered.length %></div>
                      <div class="percentage">
                        <% totalTopics = subjectTopicMap.get(subject.name).length; %>
                        <% percentage = (parseFloat(subject.topicsCovered.length)/totalTopics)*100 %>
                        <div class="progress" style="background-color: rgb(212, 209, 228);">
                          <div class="progress-bar" role="progressbar" style="width: <%= percentage %>%; height: 100%; background-color: rgb(61, 48, 136)" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"> </div>

                        </div>
                      </div>
                      <div style="padding: 1%;">
                        <% const URL = '/users/unregistercourse/'+subject.name %>
                        <a href="<%=URL%>" class="text-inherit
                        fs-5">Unregister</a>
                      </div>
                    </div>
                <% }) %>
              <% }else{ %>
                    <div style="padding-left: 10%; padding-bottom: 10%; padding-top: 10%;">
                      <h4>No subjects Registered</h4>
                    </div>
              <% } %>

              
            </div>
          </div>
        </div>

      </div>
    </div> <!-- .container -->
  </div> <!-- .page-section -->

 
  

  <%- include('./userPartials/footer.ejs') %>

<script src="/seogram/assets/js/jquery-3.5.1.min.js"></script>

<script src="/seogram/assets/js/bootstrap.bundle.min.js"></script>

<script src="/seogram/assets/js/google-maps.js"></script>

<script src="/seogram/assets/vendor/wow/wow.min.js"></script>

<script src="/seogram/assets/js/theme.js"></script>
  
</body>
</html>